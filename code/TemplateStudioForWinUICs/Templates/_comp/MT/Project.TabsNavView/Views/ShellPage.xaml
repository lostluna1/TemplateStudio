<Page
    x:Class="Param_RootNamespace.Views.ShellPage"
    xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
    xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
    xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
    xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
    mc:Ignorable="d">

    <Page.Resources>
        <MenuFlyout x:Key="TabContextMenu">
            <MenuFlyoutItem Text="关闭当前标签页" Click="CloseCurrentTab_Click">
                <MenuFlyoutItem.Icon>
                    <FontIcon Glyph="&#xE711;"/>
                </MenuFlyoutItem.Icon>
            </MenuFlyoutItem>
            <MenuFlyoutSeparator/>
            <MenuFlyoutItem Text="关闭左侧标签页" Click="CloseLeftTabs_Click">
                <MenuFlyoutItem.Icon>
                    <FontIcon Glyph="&#xE760;"/>
                </MenuFlyoutItem.Icon>
            </MenuFlyoutItem>
            <MenuFlyoutItem Text="关闭右侧标签页" Click="CloseRightTabs_Click">
                <MenuFlyoutItem.Icon>
                    <FontIcon Glyph="&#xE761;"/>
                </MenuFlyoutItem.Icon>
            </MenuFlyoutItem>
            <MenuFlyoutSeparator/>
            <MenuFlyoutItem Text="关闭所有标签页" Click="CloseAllTabs_Click">
                <MenuFlyoutItem.Icon>
                    <FontIcon Glyph="&#xE73F;"/>
                </MenuFlyoutItem.Icon>
            </MenuFlyoutItem>
        </MenuFlyout>
    </Page.Resources>

    <Grid>
        <NavigationView
            x:Name="NavigationViewControl"
            Canvas.ZIndex="0"
            IsBackButtonVisible="Collapsed"
            IsSettingsVisible="True"
            DisplayModeChanged="NavigationViewControl_DisplayModeChanged"
            PaneDisplayMode="Left"
            IsTabStop="False"
            IsPaneOpen="True"
            OpenPaneLength="240"
            CompactModeThresholdWidth="641">
            <NavigationView.Content>
                <TabView
                    x:Name="TabViewControl"
                    TabWidthMode="Equal"
                    CanDragTabs="True"
                    CanReorderTabs="True"
                    IsAddTabButtonVisible="False"
                    TabCloseRequested="TabView_TabCloseRequested"
                    SelectionChanged="TabView_SelectionChanged"
                    TabItemsChanged="TabView_TabItemsChanged"/>
            </NavigationView.Content>
        </NavigationView>

        <Grid
            x:Name="AppTitleBar"
            Height="48"
            VerticalAlignment="Top"
            Canvas.ZIndex="1"
            IsHitTestVisible="True">
            <Grid.ColumnDefinitions>
                <ColumnDefinition x:Name="LeftPaddingColumn" Width="0"/>
                <ColumnDefinition/>
                <ColumnDefinition x:Name="RightPaddingColumn" Width="0"/>
            </Grid.ColumnDefinitions>
            <Image
                Grid.Column="1"
                Source="/Assets/WindowIcon.ico"
                HorizontalAlignment="Left"
                Width="16"
                Height="16"/>
            <TextBlock
                x:Name="AppTitleBarText"
                Grid.Column="1"
                VerticalAlignment="Center"
                TextWrapping="NoWrap"
                Style="{StaticResource CaptionTextBlockStyle}"
                Margin="28,0,0,0"/>
        </Grid>
    </Grid>
</Page>
